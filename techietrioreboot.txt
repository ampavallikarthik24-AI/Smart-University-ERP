config.php (copy into your Notepad file)
<?php
$host = "localhost";
$user = "root";
$pass = ""; // your XAMPP password if set
$dbname = "smart_university_erp";

$conn = mysqli_connect($host, $user, $pass, $dbname);

if (!$conn) {
    die("Connection failed: " . mysqli_connect_error());
}

ob_start();
session_start();
?>

âž¤ header.php
<?php include "config.php"; ?>
<!DOCTYPE html>
<html>
<head>
<title>Smart University ERP</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

<style>
body {
    background: linear-gradient(135deg, #dfe9ff, #e8f0ff);
    font-family: 'Poppins', sans-serif;
}
.navbar-custom {
    background: linear-gradient(90deg, #001c39, #004aad);
}
.dashboard-card {
    border-radius: 16px;
    backdrop-filter: blur(8px);
    background: rgba(255,255,255,0.65);
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    transition: 0.2s;
}
.dashboard-card:hover {
    transform: scale(1.03);
}
.module-btn {
    font-size: 17px;
    padding: 12px 22px;
}
</style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark navbar-custom px-4 py-3 shadow">
  <a class="navbar-brand fw-bold fs-4" href="index.php"><i class="bi bi-mortarboard"></i> Smart University ERP</a>
  <div class="collapse navbar-collapse d-flex justify-content-end">
      <a href="index.php" class="btn btn-light me-2"><i class="bi bi-house-door"></i> Home</a>
  </div>
</nav>

<div class="container py-4">

âž¤ footer.php
</div>
<footer class="text-center text-white py-3"
        style="background: linear-gradient(90deg, #001c39, #004aad); margin-top: 60px;">
    Â© <?php echo date("Y"); ?> Smart University ERP â€” Excellence in Education Management
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

âž¤ index.php (Dashboard)
<?php include "header.php"; ?>

<?php
$student_count = mysqli_fetch_row(mysqli_query($conn, "SELECT COUNT(*) FROM students"))[0];
$faculty_count = mysqli_fetch_row(mysqli_query($conn, "SELECT COUNT(*) FROM faculty"))[0];
$course_count  = mysqli_fetch_row(mysqli_query($conn, "SELECT COUNT(*) FROM courses"))[0];
$room_count    = mysqli_fetch_row(mysqli_query($conn, "SELECT COUNT(*) FROM rooms"))[0];
?>

<h2 class="fw-bold mb-4 ms-1"><i class="bi bi-speedometer2"></i> Dashboard Overview</h2>

<div class="row mb-5 g-4">
    <div class="col-md-3">
        <div class="dashboard-card p-4 text-center">
            <i class="bi bi-people-fill fs-1 text-primary"></i>
            <h3 class="mt-2 fw-bold"><?= $student_count ?></h3>
            <p class="text-secondary fw-semibold">Students</p>
        </div>
    </div>

    <div class="col-md-3">
        <div class="dashboard-card p-4 text-center">
            <i class="bi bi-person-check-fill fs-1 text-success"></i>
            <h3 class="mt-2 fw-bold"><?= $faculty_count ?></h3>
            <p class="text-secondary fw-semibold">Faculty</p>
        </div>
    </div>

    <div class="col-md-3">
        <div class="dashboard-card p-4 text-center">
            <i class="bi bi-journal-bookmark-fill fs-1 text-danger"></i>
            <h3 class="mt-2 fw-bold"><?= $course_count ?></h3>
            <p class="text-secondary fw-semibold">Courses</p>
        </div>
    </div>

    <div class="col-md-3">
        <div class="dashboard-card p-4 text-center">
            <i class="bi bi-door-open-fill fs-1 text-warning"></i>
            <h3 class="mt-2 fw-bold"><?= $room_count ?></h3>
            <p class="text-secondary fw-semibold">Rooms</p>
        </div>
    </div>
</div>

<h3 class="fw-bold mt-4 ms-1"><i class="bi bi-grid-3x3-gap"></i> Modules</h3>
<div class="d-flex flex-wrap mt-3">
    <a class="btn btn-primary module-btn m-2" href="students/list.php"><i class="bi bi-people"></i> Students</a>
    <a class="btn btn-primary module-btn m-2" href="faculty/list.php"><i class="bi bi-person-workspace"></i> Faculty</a>
    <a class="btn btn-primary module-btn m-2" href="courses/list.php"><i class="bi bi-journal"></i> Courses</a>
    <a class="btn btn-primary module-btn m-2" href="timetable/list.php"><i class="bi bi-calendar-week"></i> Timetable</a>
    <a class="btn btn-primary module-btn m-2" href="attendance/list.php"><i class="bi bi-clipboard-check"></i> Attendance</a>
    <a class="btn btn-primary module-btn m-2" href="exams/list.php"><i class="bi bi-file-earmark-bar-graph"></i> Exams</a>
    <a class="btn btn-primary module-btn m-2" href="room_booking/list.php"><i class="bi bi-door-open"></i> Room Booking</a>
    <a class="btn btn-primary module-btn m-2" href="reports/index.php"><i class="bi bi-graph-up-arrow"></i> Reports</a>
</div>

<?php include "footer.php"; ?>

students/list.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-people"></i> Students</h2>
<a href="add.php" class="btn btn-success mb-3"><i class="bi bi-plus-lg"></i> Add Student</a>

<table class="table table-bordered table-hover bg-white shadow-sm">
<tr class="table-primary">
    <th>Student ID</th>
    <th>Roll No</th>
    <th>Student Name</th>
    <th>Email</th>
    <th>Phone</th>
    <th>Program</th>
    <th>Department</th>
    <th>Year of Study</th>
    <th>Actions</th>
</tr>

<?php
$q = mysqli_query($conn,"SELECT s.*, p.program_name, d.dept_name 
                         FROM students s 
                         LEFT JOIN programs p ON s.program_id=p.program_id
                         LEFT JOIN departments d ON s.dept_id=d.dept_id
                         ORDER BY student_id ASC");

while($row = mysqli_fetch_assoc($q)){
?>
<tr>
<td><?= $row['student_id'] ?></td>
<td><?= $row['roll_no'] ?></td>
<td><?= $row['student_name'] ?></td>
<td><?= $row['email'] ?></td>
<td><?= $row['phone'] ?></td>
<td><?= $row['program_name'] ?></td>
<td><?= $row['dept_name'] ?></td>
<td><?= $row['year_of_study'] ?></td>
<td>
    <a href="edit.php?id=<?= $row['student_id'] ?>" class="btn btn-warning btn-sm"><i class="bi bi-pencil"></i></a>
    <a href="delete.php?id=<?= $row['student_id'] ?>" onclick="return confirm('Delete student?')" class="btn btn-danger btn-sm"><i class="bi bi-trash"></i></a>
</td>
</tr>
<?php } ?>
</table>

<?php include "../footer.php"; ?>

ðŸ“Œ students/add.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-plus-lg"></i> Add Student</h2>

<?php
if(isset($_POST['submit'])){
    $roll = $_POST['roll_no'];
    $name = $_POST['student_name'];
    $email = $_POST['email'];
    $phone = $_POST['phone'];
    $program = $_POST['program_id'];
    $dept = $_POST['dept_id'];
    $year = $_POST['year_of_study'];

    mysqli_query($conn, "INSERT INTO students(roll_no,student_name,email,phone,program_id,dept_id,year_of_study)
                         VALUES('$roll','$name','$email','$phone','$program','$dept','$year')");
    header("location:list.php");
}
?>

<form method="post">
<div class="row">
<div class="col-md-6 mb-3">
<label>Roll No</label>
<input type="text" name="roll_no" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Student Name</label>
<input type="text" name="student_name" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Email</label>
<input type="email" name="email" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Phone</label>
<input type="text" name="phone" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Program</label>
<select name="program_id" class="form-control" required>
<option value="">Select</option>
<?php
$p = mysqli_query($conn,"SELECT * FROM programs");
while($r = mysqli_fetch_assoc($p)){ echo "<option value='{$r['program_id']}'>{$r['program_name']}</option>"; }
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Department</label>
<select name="dept_id" class="form-control" required>
<option value="">Select</option>
<?php
$d = mysqli_query($conn,"SELECT * FROM departments");
while($r = mysqli_fetch_assoc($d)){ echo "<option value='{$r['dept_id']}'>{$r['dept_name']}</option>"; }
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Year of Study</label>
<input type="number" name="year_of_study" class="form-control" required>
</div>
</div>
<button name="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> Save</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ students/edit.php
<?php include "../header.php"; ?>

<?php
$id = $_GET['id'];
$q = mysqli_fetch_assoc(mysqli_query($conn, "SELECT * FROM students WHERE student_id=$id"));

if(isset($_POST['submit'])){
    $roll = $_POST['roll_no'];
    $name = $_POST['student_name'];
    $email = $_POST['email'];
    $phone = $_POST['phone'];
    $program = $_POST['program_id'];
    $dept = $_POST['dept_id'];
    $year = $_POST['year_of_study'];

    mysqli_query($conn, "UPDATE students SET roll_no='$roll', student_name='$name', email='$email', 
    phone='$phone', program_id='$program', dept_id='$dept', year_of_study='$year'
    WHERE student_id=$id");

    header("location:list.php");
}
?>

<h2 class="fw-bold mb-4"><i class="bi bi-pencil"></i> Edit Student</h2>

<form method="post">
<div class="row">
<div class="col-md-6 mb-3">
<label>Roll No</label>
<input type="text" name="roll_no" value="<?= $q['roll_no'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Student Name</label>
<input type="text" name="student_name" value="<?= $q['student_name'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Email</label>
<input type="email" name="email" value="<?= $q['email'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Phone</label>
<input type="text" name="phone" value="<?= $q['phone'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Program</label>
<select name="program_id" class="form-control" required>
<?php
$p = mysqli_query($conn,"SELECT * FROM programs");
while($r = mysqli_fetch_assoc($p)){
    $sel = ($r['program_id'] == $q['program_id']) ? "selected" : "";
    echo "<option $sel value='{$r['program_id']}'>{$r['program_name']}</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Department</label>
<select name="dept_id" class="form-control" required>
<?php
$d = mysqli_query($conn,"SELECT * FROM departments");
while($r = mysqli_fetch_assoc($d)){
    $sel = ($r['dept_id'] == $q['dept_id']) ? "selected" : "";
    echo "<option $sel value='{$r['dept_id']}'>{$r['dept_name']}</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Year of Study</label>
<input type="number" name="year_of_study" value="<?= $q['year_of_study'] ?>" class="form-control" required>
</div>
</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-lg"></i> Update</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ students/delete.php
<?php
include "../config.php";
$id = $_GET['id'];
mysqli_query($conn, "DELETE FROM students WHERE student_id=$id");
header("location:list.php");
?>


faculty/list.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-person-workspace"></i> Faculty</h2>
<a href="add.php" class="btn btn-success mb-3"><i class="bi bi-plus-lg"></i> Add Faculty</a>

<table class="table table-bordered table-hover bg-white shadow-sm">
<tr class="table-primary">
    <th>Faculty ID</th>
    <th>Faculty Name</th>
    <th>Email</th>
    <th>Phone</th>
    <th>Department</th>
    <th>Actions</th>
</tr>

<?php
$q = mysqli_query($conn,"SELECT f.*, d.dept_name 
                         FROM faculty f 
                         LEFT JOIN departments d ON f.dept_id=d.dept_id
                         ORDER BY faculty_id ASC");

while($row = mysqli_fetch_assoc($q)){
?>
<tr>
<td><?= $row['faculty_id'] ?></td>
<td><?= $row['faculty_name'] ?></td>
<td><?= $row['email'] ?></td>
<td><?= $row['phone'] ?></td>
<td><?= $row['dept_name'] ?></td>
<td>
    <a href="edit.php?id=<?= $row['faculty_id'] ?>" class="btn btn-warning btn-sm"><i class="bi bi-pencil"></i></a>
    <a href="delete.php?id=<?= $row['faculty_id'] ?>" onclick="return confirm('Delete faculty?')" class="btn btn-danger btn-sm"><i class="bi bi-trash"></i></a>
</td>
</tr>
<?php } ?>
</table>

<?php include "../footer.php"; ?>

ðŸ“Œ faculty/add.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-plus-lg"></i> Add Faculty</h2>

<?php
if(isset($_POST['submit'])){
    $name  = $_POST['faculty_name'];
    $email = $_POST['email'];
    $phone = $_POST['phone'];
    $dept  = $_POST['dept_id'];

    mysqli_query($conn,"INSERT INTO faculty(faculty_name,email,phone,dept_id)
                        VALUES('$name','$email','$phone','$dept')");
    header("location:list.php");
}
?>

<form method="post">
<div class="row">
<div class="col-md-6 mb-3">
<label>Faculty Name</label>
<input type="text" name="faculty_name" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Email</label>
<input type="email" name="email" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Phone</label>
<input type="text" name="phone" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Department</label>
<select name="dept_id" class="form-control" required>
<option value="">Select</option>
<?php
$d = mysqli_query($conn,"SELECT * FROM departments");
while($r = mysqli_fetch_assoc($d)){ echo "<option value='{$r['dept_id']}'>{$r['dept_name']}</option>"; }
?>
</select>
</div>
</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> Save</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ faculty/edit.php
<?php include "../header.php"; ?>

<?php
$id = $_GET['id'];
$q = mysqli_fetch_assoc(mysqli_query($conn,"SELECT * FROM faculty WHERE faculty_id=$id"));

if(isset($_POST['submit'])){
    $name  = $_POST['faculty_name'];
    $email = $_POST['email'];
    $phone = $_POST['phone'];
    $dept  = $_POST['dept_id'];

    mysqli_query($conn,"UPDATE faculty SET faculty_name='$name', email='$email', phone='$phone', dept_id='$dept'
                        WHERE faculty_id=$id");
    header("location:list.php");
}
?>

<h2 class="fw-bold mb-4"><i class="bi bi-pencil"></i> Edit Faculty</h2>

<form method="post">
<div class="row">
<div class="col-md-6 mb-3">
<label>Faculty Name</label>
<input type="text" name="faculty_name" value="<?= $q['faculty_name'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Email</label>
<input type="email" name="email" value="<?= $q['email'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Phone</label>
<input type="text" name="phone" value="<?= $q['phone'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Department</label>
<select name="dept_id" class="form-control" required>
<?php
$d = mysqli_query($conn,"SELECT * FROM departments");
while($r = mysqli_fetch_assoc($d)){
    $sel = ($r['dept_id'] == $q['dept_id']) ? "selected" : "";
    echo "<option $sel value='{$r['dept_id']}'>{$r['dept_name']}</option>";
}
?>
</select>
</div>
</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-lg"></i> Update</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ faculty/delete.php
<?php
include "../config.php";
$id = $_GET['id'];
mysqli_query($conn,"DELETE FROM faculty WHERE faculty_id=$id");
header("location:list.php");
?>


ðŸ“Œ courses/list.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-journal"></i> Courses</h2>
<a href="add.php" class="btn btn-success mb-3"><i class="bi bi-plus-lg"></i> Add Course</a>

<table class="table table-bordered table-hover bg-white shadow-sm">
<tr class="table-primary">
    <th>Course ID</th>
    <th>Course Code</th>
    <th>Course Name</th>
    <th>Credits</th>
    <th>Department</th>
    <th>Faculty</th>
    <th>Actions</th>
</tr>

<?php
$q = mysqli_query($conn,"SELECT c.*, d.dept_name, f.faculty_name
                         FROM courses c
                         LEFT JOIN departments d ON c.dept_id = d.dept_id
                         LEFT JOIN faculty f ON c.faculty_id = f.faculty_id
                         ORDER BY course_id ASC");

while($row = mysqli_fetch_assoc($q)){
?>
<tr>
<td><?= $row['course_id'] ?></td>
<td><?= $row['course_code'] ?></td>
<td><?= $row['course_name'] ?></td>
<td><?= $row['credits'] ?></td>
<td><?= $row['dept_name'] ?></td>
<td><?= $row['faculty_name'] ?></td>
<td>
    <a href="edit.php?id=<?= $row['course_id'] ?>" class="btn btn-warning btn-sm"><i class="bi bi-pencil"></i></a>
    <a href="delete.php?id=<?= $row['course_id'] ?>" onclick="return confirm('Delete course?')" class="btn btn-danger btn-sm"><i class="bi bi-trash"></i></a>
</td>
</tr>
<?php } ?>
</table>

<?php include "../footer.php"; ?>

ðŸ“Œ courses/add.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-plus-lg"></i> Add Course</h2>

<?php
if(isset($_POST['submit'])){
    $code = $_POST['course_code'];
    $name = $_POST['course_name'];
    $credits = $_POST['credits'];
    $dept = $_POST['dept_id'];
    $faculty = $_POST['faculty_id'];

    mysqli_query($conn,"INSERT INTO courses(course_code,course_name,credits,dept_id,faculty_id)
                        VALUES('$code','$name','$credits','$dept','$faculty')");
    header("location:list.php");
}
?>

<form method="post">
<div class="row">

<div class="col-md-6 mb-3">
<label>Course Code</label>
<input type="text" name="course_code" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Course Name</label>
<input type="text" name="course_name" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Credits</label>
<input type="number" name="credits" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Department</label>
<select name="dept_id" class="form-control" required>
<option value="">Select</option>
<?php
$d = mysqli_query($conn,"SELECT * FROM departments");
while($r = mysqli_fetch_assoc($d)){ echo "<option value='{$r['dept_id']}'>{$r['dept_name']}</option>"; }
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Faculty</label>
<select name="faculty_id" class="form-control" required>
<option value="">Select</option>
<?php
$f = mysqli_query($conn,"SELECT * FROM faculty");
while($r = mysqli_fetch_assoc($f)){ echo "<option value='{$r['faculty_id']}'>{$r['faculty_name']}</option>"; }
?>
</select>
</div>

</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> Save</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ courses/edit.php
<?php include "../header.php"; ?>

<?php
$id = $_GET['id'];
$q = mysqli_fetch_assoc(mysqli_query($conn,"SELECT * FROM courses WHERE course_id=$id"));

if(isset($_POST['submit'])){
    $code = $_POST['course_code'];
    $name = $_POST['course_name'];
    $credits = $_POST['credits'];
    $dept = $_POST['dept_id'];
    $faculty = $_POST['faculty_id'];

    mysqli_query($conn,"UPDATE courses SET course_code='$code', course_name='$name',
                      credits='$credits', dept_id='$dept', faculty_id='$faculty'
                      WHERE course_id=$id");
    header("location:list.php");
}
?>

<h2 class="fw-bold mb-4"><i class="bi bi-pencil"></i> Edit Course</h2>

<form method="post">
<div class="row">

<div class="col-md-6 mb-3">
<label>Course Code</label>
<input type="text" name="course_code" value="<?= $q['course_code'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Course Name</label>
<input type="text" name="course_name" value="<?= $q['course_name'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Credits</label>
<input type="number" name="credits" value="<?= $q['credits'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Department</label>
<select name="dept_id" class="form-control" required>
<?php
$d = mysqli_query($conn,"SELECT * FROM departments");
while($r = mysqli_fetch_assoc($d)){
    $sel = ($r['dept_id'] == $q['dept_id']) ? "selected" : "";
    echo "<option $sel value='{$r['dept_id']}'>{$r['dept_name']}</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Faculty</label>
<select name="faculty_id" class="form-control" required>
<?php
$f = mysqli_query($conn,"SELECT * FROM faculty");
while($r = mysqli_fetch_assoc($f)){
    $sel = ($r['faculty_id'] == $q['faculty_id']) ? "selected" : "";
    echo "<option $sel value='{$r['faculty_id']}'>{$r['faculty_name']}</option>";
}
?>
</select>
</div>

</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-lg"></i> Update</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ courses/delete.php
<?php
include "../config.php";
$id = $_GET['id'];
mysqli_query($conn,"DELETE FROM courses WHERE course_id=$id");
header("location:list.php");
?>


ðŸ“Œ timetable/list.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-calendar-week"></i> Timetable</h2>
<a href="add.php" class="btn btn-success mb-3"><i class="bi bi-plus-lg"></i> Add Slot</a>

<table class="table table-bordered table-hover bg-white shadow-sm">
<tr class="table-primary">
    <th>TT ID</th>
    <th>Course</th>
    <th>Faculty</th>
    <th>Room</th>
    <th>Day</th>
    <th>Time Slot</th>
    <th>Actions</th>
</tr>

<?php
$q = mysqli_query($conn,"SELECT t.*, c.course_name, f.faculty_name, r.room_number
                         FROM timetable t
                         LEFT JOIN courses c ON t.course_id=c.course_id
                         LEFT JOIN faculty f ON t.faculty_id=f.faculty_id
                         LEFT JOIN rooms r ON t.room_id=r.room_id
                         ORDER BY tt_id ASC");

while($row = mysqli_fetch_assoc($q)){
?>
<tr>
<td><?= $row['tt_id'] ?></td>
<td><?= $row['course_name'] ?></td>
<td><?= $row['faculty_name'] ?></td>
<td><?= $row['room_number'] ?></td>
<td><?= $row['day_of_week'] ?></td>
<td><?= $row['time_slot'] ?></td>
<td>
    <a href="edit.php?id=<?= $row['tt_id'] ?>" class="btn btn-warning btn-sm"><i class="bi bi-pencil"></i></a>
    <a href="delete.php?id=<?= $row['tt_id'] ?>" onclick="return confirm('Delete slot?')" class="btn btn-danger btn-sm"><i class="bi bi-trash"></i></a>
</td>
</tr>
<?php } ?>
</table>

<?php include "../footer.php"; ?>

ðŸ“Œ timetable/add.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-plus-lg"></i> Add Timetable Slot</h2>

<?php
if(isset($_POST['submit'])){
    $course = $_POST['course_id'];
    $faculty = $_POST['faculty_id'];
    $room = $_POST['room_id'];
    $day = $_POST['day_of_week'];
    $slot = $_POST['time_slot'];

    mysqli_query($conn,"INSERT INTO timetable(course_id,faculty_id,room_id,day_of_week,time_slot)
                        VALUES('$course','$faculty','$room','$day','$slot')");
    header("location:list.php");
}
?>

<form method="post">
<div class="row">

<div class="col-md-6 mb-3">
<label>Course</label>
<select name="course_id" class="form-control" required>
<option value="">Select</option>
<?php
$c = mysqli_query($conn,"SELECT * FROM courses");
while($r = mysqli_fetch_assoc($c)){ echo "<option value='{$r['course_id']}'>{$r['course_name']}</option>"; }
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Faculty</label>
<select name="faculty_id" class="form-control" required>
<option value="">Select</option>
<?php
$f = mysqli_query($conn,"SELECT * FROM faculty");
while($r = mysqli_fetch_assoc($f)){ echo "<option value='{$r['faculty_id']}'>{$r['faculty_name']}</option>"; }
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Room</label>
<select name="room_id" class="form-control" required>
<option value="">Select</option>
<?php
$r = mysqli_query($conn,"SELECT * FROM rooms");
while($x = mysqli_fetch_assoc($r)){ echo "<option value='{$x['room_id']}'>{$x['room_number']}</option>"; }
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Day of Week</label>
<select name="day_of_week" class="form-control" required>
<option>Mon</option>
<option>Tue</option>
<option>Wed</option>
<option>Thu</option>
<option>Fri</option>
<option>Sat</option>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Time Slot</label>
<input type="text" name="time_slot" class="form-control" placeholder="Example: 9AM-11AM" required>
</div>

</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> Save</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ timetable/edit.php
<?php include "../header.php"; ?>

<?php
$id = $_GET['id'];
$q = mysqli_fetch_assoc(mysqli_query($conn,"SELECT * FROM timetable WHERE tt_id=$id"));

if(isset($_POST['submit'])){
    $course = $_POST['course_id'];
    $faculty = $_POST['faculty_id'];
    $room = $_POST['room_id'];
    $day = $_POST['day_of_week'];
    $slot = $_POST['time_slot'];

    mysqli_query($conn,"UPDATE timetable SET course_id='$course', faculty_id='$faculty',
                      room_id='$room', day_of_week='$day', time_slot='$slot'
                      WHERE tt_id=$id");
    header("location:list.php");
}
?>

<h2 class="fw-bold mb-4"><i class="bi bi-pencil"></i> Edit Timetable Slot</h2>

<form method="post">
<div class="row">

<div class="col-md-6 mb-3">
<label>Course</label>
<select name="course_id" class="form-control" required>
<?php
$c = mysqli_query($conn,"SELECT * FROM courses");
while($r = mysqli_fetch_assoc($c)){
    $sel = ($r['course_id'] == $q['course_id']) ? "selected" : "";
    echo "<option $sel value='{$r['course_id']}'>{$r['course_name']}</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Faculty</label>
<select name="faculty_id" class="form-control" required>
<?php
$f = mysqli_query($conn,"SELECT * FROM faculty");
while($r = mysqli_fetch_assoc($f)){
    $sel = ($r['faculty_id'] == $q['faculty_id']) ? "selected" : "";
    echo "<option $sel value='{$r['faculty_id']}'>{$r['faculty_name']}</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Room</label>
<select name="room_id" class="form-control" required>
<?php
$r = mysqli_query($conn,"SELECT * FROM rooms");
while($x = mysqli_fetch_assoc($r)){
    $sel = ($x['room_id'] == $q['room_id']) ? "selected" : "";
    echo "<option $sel value='{$x['room_id']}'>{$x['room_number']}</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Day of Week</label>
<select name="day_of_week" class="form-control" required>
<?php
$days = ["Mon","Tue","Wed","Thu","Fri","Sat"];
foreach($days as $d){
    $sel = ($d == $q['day_of_week']) ? "selected" : "";
    echo "<option $sel>$d</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Time Slot</label>
<input type="text" name="time_slot" value="<?= $q['time_slot'] ?>" class="form-control" required>
</div>

</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-lg"></i> Update</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ timetable/delete.php
<?php
include "../config.php";
$id = $_GET['id'];
mysqli_query($conn,"DELETE FROM timetable WHERE tt_id=$id");
header("location:list.php");
?>



ðŸ“Œ attendance/list.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-clipboard-check"></i> Attendance</h2>
<a href="add.php" class="btn btn-success mb-3"><i class="bi bi-plus-lg"></i> Mark Attendance</a>

<table class="table table-bordered table-hover bg-white shadow-sm">
<tr class="table-primary">
    <th>Attendance ID</th>
    <th>Student</th>
    <th>Course</th>
    <th>Date</th>
    <th>Status</th>
    <th>Actions</th>
</tr>

<?php
$q = mysqli_query($conn,"SELECT a.*, s.student_name, c.course_name
                         FROM attendance a
                         LEFT JOIN students s ON a.student_id=s.student_id
                         LEFT JOIN courses c ON a.course_id=c.course_id
                         ORDER BY attendance_id ASC");

while($row = mysqli_fetch_assoc($q)){
?>
<tr>
<td><?= $row['attendance_id'] ?></td>
<td><?= $row['student_name'] ?></td>
<td><?= $row['course_name'] ?></td>
<td><?= $row['date'] ?></td>
<td><?= $row['status'] ?></td>
<td>
    <a href="edit.php?id=<?= $row['attendance_id'] ?>" class="btn btn-warning btn-sm"><i class="bi bi-pencil"></i></a>
    <a href="delete.php?id=<?= $row['attendance_id'] ?>" onclick="return confirm('Delete record?')" class="btn btn-danger btn-sm"><i class="bi bi-trash"></i></a>
</td>
</tr>
<?php } ?>
</table>

<?php include "../footer.php"; ?>

ðŸ“Œ attendance/add.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-check2-circle"></i> Mark Attendance</h2>

<?php
if(isset($_POST['submit'])){
    $student = $_POST['student_id'];
    $course  = $_POST['course_id'];
    $date    = $_POST['date'];
    $status  = $_POST['status'];

    mysqli_query($conn,"INSERT INTO attendance(student_id,course_id,date,status)
                        VALUES('$student','$course','$date','$status')");
    header("location:list.php");
}
?>

<form method="post">
<div class="row">
<div class="col-md-6 mb-3">
<label>Student</label>
<select name="student_id" class="form-control" required>
<option value="">Select</option>
<?php
$s = mysqli_query($conn,"SELECT * FROM students");
while($r = mysqli_fetch_assoc($s)){ echo "<option value='{$r['student_id']}'>{$r['student_name']}</option>"; }
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Course</label>
<select name="course_id" class="form-control" required>
<option value="">Select</option>
<?php
$c = mysqli_query($conn,"SELECT * FROM courses");
while($r = mysqli_fetch_assoc($c)){ echo "<option value='{$r['course_id']}'>{$r['course_name']}</option>"; }
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Date</label>
<input type="date" name="date" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Status</label>
<select name="status" class="form-control" required>
<option>Present</option>
<option>Absent</option>
<option>Late</option>
</select>
</div>
</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> Save</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ attendance/edit.php
<?php include "../header.php"; ?>

<?php
$id = $_GET['id'];
$q = mysqli_fetch_assoc(mysqli_query($conn,"SELECT * FROM attendance WHERE attendance_id=$id"));

if(isset($_POST['submit'])){
    $student = $_POST['student_id'];
    $course  = $_POST['course_id'];
    $date    = $_POST['date'];
    $status  = $_POST['status'];

    mysqli_query($conn,"UPDATE attendance SET student_id='$student', course_id='$course',
                      date='$date', status='$status' WHERE attendance_id=$id");
    header("location:list.php");
}
?>

<h2 class="fw-bold mb-4"><i class="bi bi-pencil"></i> Edit Attendance</h2>

<form method="post">
<div class="row">

<div class="col-md-6 mb-3">
<label>Student</label>
<select name="student_id" class="form-control" required>
<?php
$s = mysqli_query($conn,"SELECT * FROM students");
while($r = mysqli_fetch_assoc($s)){
    $sel = ($r['student_id'] == $q['student_id']) ? "selected" : "";
    echo "<option $sel value='{$r['student_id']}'>{$r['student_name']}</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Course</label>
<select name="course_id" class="form-control" required>
<?php
$c = mysqli_query($conn,"SELECT * FROM courses");
while($r = mysqli_fetch_assoc($c)){
    $sel = ($r['course_id'] == $q['course_id']) ? "selected" : "";
    echo "<option $sel value='{$r['course_id']}'>{$r['course_name']}</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Date</label>
<input type="date" name="date" value="<?= $q['date'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Status</label>
<select name="status" class="form-control" required>
<?php
$statuses = ["Present","Absent","Late"];
foreach($statuses as $s){
    $sel = ($s == $q['status']) ? "selected" : "";
    echo "<option $sel>$s</option>";
}
?>
</select>
</div>

</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-lg"></i> Update</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ attendance/delete.php
<?php
include "../config.php";
$id = $_GET['id'];
mysqli_query($conn,"DELETE FROM attendance WHERE attendance_id=$id");
header("location:list.php");
?>


ðŸ“Œ exams/list.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-file-earmark-bar-graph"></i> Exams</h2>
<a href="add.php" class="btn btn-success mb-3"><i class="bi bi-plus-lg"></i> Add Exam</a>

<table class="table table-bordered table-hover bg-white shadow-sm">
<tr class="table-primary">
    <th>Exam ID</th>
    <th>Course</th>
    <th>Exam Type</th>
    <th>Date</th>
    <th>Max Marks</th>
    <th>Actions</th>
</tr>

<?php
$q = mysqli_query($conn,"SELECT e.*, c.course_name
                         FROM exams e
                         LEFT JOIN courses c ON e.course_id=c.course_id
                         ORDER BY exam_id ASC");

while($row = mysqli_fetch_assoc($q)){
?>
<tr>
<td><?= $row['exam_id'] ?></td>
<td><?= $row['course_name'] ?></td>
<td><?= $row['exam_type'] ?></td>
<td><?= $row['date'] ?></td>
<td><?= $row['max_marks'] ?></td>
<td>
    <a href="edit.php?id=<?= $row['exam_id'] ?>" class="btn btn-warning btn-sm"><i class="bi bi-pencil"></i></a>
    <a href="delete.php?id=<?= $row['exam_id'] ?>" onclick="return confirm('Delete exam?')" class="btn btn-danger btn-sm"><i class="bi bi-trash"></i></a>
</td>
</tr>
<?php } ?>
</table>

<?php include "../footer.php"; ?>

ðŸ“Œ exams/add.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-plus-lg"></i> Add Exam</h2>

<?php
if(isset($_POST['submit'])){
    $course = $_POST['course_id'];
    $type = $_POST['exam_type'];
    $date = $_POST['date'];
    $max = $_POST['max_marks'];

    mysqli_query($conn,"INSERT INTO exams(course_id,exam_type,date,max_marks)
                        VALUES('$course','$type','$date','$max')");
    header("location:list.php");
}
?>

<form method="post">
<div class="row">

<div class="col-md-6 mb-3">
<label>Course</label>
<select name="course_id" class="form-control" required>
<option value="">Select</option>
<?php
$c = mysqli_query($conn,"SELECT * FROM courses");
while($r = mysqli_fetch_assoc($c)){ echo "<option value='{$r['course_id']}'>{$r['course_name']}</option>"; }
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Exam Type</label>
<select name="exam_type" class="form-control" required>
<option>Mid</option>
<option>Quiz</option>
<option>End</option>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Date</label>
<input type="date" name="date" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Max Marks</label>
<input type="number" name="max_marks" class="form-control" required>
</div>

</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> Save</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ exams/edit.php
<?php include "../header.php"; ?>

<?php
$id = $_GET['id'];
$q = mysqli_fetch_assoc(mysqli_query($conn,"SELECT * FROM exams WHERE exam_id=$id"));

if(isset($_POST['submit'])){
    $course = $_POST['course_id'];
    $type = $_POST['exam_type'];
    $date = $_POST['date'];
    $max = $_POST['max_marks'];

    mysqli_query($conn,"UPDATE exams SET course_id='$course', exam_type='$type', 
                      date='$date', max_marks='$max' WHERE exam_id=$id");
    header("location:list.php");
}
?>

<h2 class="fw-bold mb-4"><i class="bi bi-pencil"></i> Edit Exam</h2>

<form method="post">
<div class="row">

<div class="col-md-6 mb-3">
<label>Course</label>
<select name="course_id" class="form-control" required>
<?php
$c = mysqli_query($conn,"SELECT * FROM courses");
while($r = mysqli_fetch_assoc($c)){
    $sel = ($r['course_id'] == $q['course_id']) ? "selected" : "";
    echo "<option $sel value='{$r['course_id']}'>{$r['course_name']}</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Exam Type</label>
<select name="exam_type" class="form-control" required>
<?php
$types = ["Mid","Quiz","End"];
foreach($types as $t){
    $sel = ($t == $q['exam_type']) ? "selected" : "";
    echo "<option $sel>$t</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Date</label>
<input type="date" name="date" value="<?= $q['date'] ?>" class="form-control" required>
</div>

<div class="col-md-6 mb-3">
<label>Max Marks</label>
<input type="number" name="max_marks" value="<?= $q['max_marks'] ?>" class="form-control" required>
</div>

</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-lg"></i> Update</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ exams/delete.php
<?php
include "../config.php";
$id = $_GET['id'];
mysqli_query($conn,"DELETE FROM exams WHERE exam_id=$id");
header("location:list.php");
?>



ðŸ“Œ exam_results/list.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-bar-chart"></i> Exam Results</h2>
<a href="add.php" class="btn btn-success mb-3"><i class="bi bi-plus-lg"></i> Add Result</a>

<table class="table table-bordered table-hover bg-white shadow-sm">
<tr class="table-primary">
    <th>Result ID</th>
    <th>Student</th>
    <th>Exam</th>
    <th>Marks</th>
    <th>Actions</th>
</tr>

<?php
$q = mysqli_query($conn,"SELECT r.*, s.student_name, e.exam_type, c.course_name
                         FROM exam_results r
                         LEFT JOIN exams e ON r.exam_id=e.exam_id
                         LEFT JOIN courses c ON e.course_id=c.course_id
                         LEFT JOIN students s ON r.student_id=s.student_id
                         ORDER BY result_id ASC");

while($row = mysqli_fetch_assoc($q)){
?>
<tr>
<td><?= $row['result_id'] ?></td>
<td><?= $row['student_name'] ?></td>
<td><?= $row['course_name'] ?> (<?= $row['exam_type'] ?>)</td>
<td><?= $row['marks_obtained'] ?></td>
<td>
<a href="delete.php?id=<?= $row['result_id'] ?>" onclick="return confirm('Delete result?')" class="btn btn-danger btn-sm">
<i class="bi bi-trash"></i>
</a>
</td>
</tr>
<?php } ?>
</table>

<?php include "../footer.php"; ?>

ðŸ“Œ exam_results/add.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-plus-lg"></i> Add Exam Result</h2>

<?php
if(isset($_POST['submit'])){
    $exam = $_POST['exam_id'];
    $student = $_POST['student_id'];
    $marks = $_POST['marks_obtained'];

    mysqli_query($conn,"INSERT INTO exam_results(exam_id,student_id,marks_obtained)
                        VALUES('$exam','$student','$marks')");
    header("location:list.php");
}
?>

<form method="post">
<div class="row">

<div class="col-md-6 mb-3">
<label>Exam</label>
<select name="exam_id" class="form-control" required>
<option value="">Select</option>
<?php
$e = mysqli_query($conn,"SELECT e.exam_id, e.exam_type, c.course_name 
                         FROM exams e 
                         LEFT JOIN courses c ON e.course_id=c.course_id");
while($r = mysqli_fetch_assoc($e)){
    echo "<option value='{$r['exam_id']}'>{$r['course_name']} ({$r['exam_type']})</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Student</label>
<select name="student_id" class="form-control" required>
<option value="">Select</option>
<?php
$s = mysqli_query($conn,"SELECT * FROM students");
while($r = mysqli_fetch_assoc($s)){
    echo "<option value='{$r['student_id']}'>{$r['student_name']}</option>";
}
?>
</select>
</div>

<div class="col-md-6 mb-3">
<label>Marks Obtained</label>
<input type="number" name="marks_obtained" class="form-control" required>
</div>

</div>

<button name="submit" class="btn btn-primary"><i class="bi bi-check-circle"></i> Save</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“Œ exam_results/delete.php
<?php
include "../config.php";
$id = $_GET['id'];
mysqli_query($conn,"DELETE FROM exam_results WHERE result_id=$id");
header("location:list.php");
?>



ðŸ“‚ room_booking/list.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-door-open-fill"></i> Room Booking</h2>
<a href="add.php" class="btn btn-success mb-3">
    <i class="bi bi-plus-lg"></i> New Booking
</a>

<table class="table table-bordered table-hover bg-white shadow-sm">
    <tr class="table-primary">
        <th>Log ID</th>
        <th>Faculty</th>
        <th>Room</th>
        <th>Date</th>
        <th>Purpose</th>
        <th>Actions</th>
    </tr>

<?php
$q = mysqli_query($conn,"
    SELECT l.log_id, l.date, l.purpose,
           f.faculty_name,
           r.room_number
    FROM room_booking_log l
    LEFT JOIN faculty f ON l.faculty_id = f.faculty_id
    LEFT JOIN rooms r   ON l.room_id    = r.room_id
    ORDER BY l.log_id ASC
");

while($row = mysqli_fetch_assoc($q)){
?>
    <tr>
        <td><?= $row['log_id'] ?></td>
        <td><?= $row['faculty_name'] ?></td>
        <td><?= $row['room_number'] ?></td>
        <td><?= $row['date'] ?></td>
        <td><?= $row['purpose'] ?></td>
        <td>
            <a href="delete.php?id=<?= $row['log_id'] ?>"
               onclick="return confirm('Delete this booking?')"
               class="btn btn-danger btn-sm">
               <i class="bi bi-trash"></i>
            </a>
        </td>
    </tr>
<?php } ?>
</table>

<?php include "../footer.php"; ?>

ðŸ“‚ room_booking/add.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-plus-lg"></i> New Room Booking</h2>

<?php
if(isset($_POST['submit'])){
    $faculty = $_POST['faculty_id'];
    $room    = $_POST['room_id'];
    $date    = $_POST['date'];
    $purpose = $_POST['purpose'];

    // Check if room already booked on that date
    $check = mysqli_query($conn,"
        SELECT * FROM room_booking_log
        WHERE room_id = '$room' AND date = '$date'
    ");

    if(mysqli_num_rows($check) > 0){
        echo "<div class='alert alert-danger'>Room already booked on this date.</div>";
    } else {
        mysqli_query($conn,"
            INSERT INTO room_booking_log(faculty_id, room_id, date, purpose, created_at)
            VALUES('$faculty', '$room', '$date', '$purpose', NOW())
        ");
        header("location:list.php");
        exit;
    }
}
?>

<form method="post">
<div class="row">

    <div class="col-md-6 mb-3">
        <label>Faculty</label>
        <select name="faculty_id" class="form-control" required>
            <option value="">Select</option>
            <?php
            $f = mysqli_query($conn,"SELECT * FROM faculty ORDER BY faculty_name ASC");
            while($r = mysqli_fetch_assoc($f)){
                echo "<option value='{$r['faculty_id']}'>{$r['faculty_name']}</option>";
            }
            ?>
        </select>
    </div>

    <div class="col-md-6 mb-3">
        <label>Room</label>
        <select name="room_id" class="form-control" required>
            <option value="">Select</option>
            <?php
            $r = mysqli_query($conn,"SELECT * FROM rooms ORDER BY room_number ASC");
            while($x = mysqli_fetch_assoc($r)){
                echo "<option value='{$x['room_id']}'>{$x['room_number']} â€“ {$x['room_type']}</option>";
            }
            ?>
        </select>
    </div>

    <div class="col-md-6 mb-3">
        <label>Date</label>
        <input type="date" name="date" class="form-control" required>
    </div>

    <div class="col-md-12 mb-3">
        <label>Purpose</label>
        <input type="text" name="purpose" class="form-control" required>
    </div>

</div>

<button name="submit" class="btn btn-primary">
    <i class="bi bi-check-circle"></i> Save Booking
</button>
<a href="list.php" class="btn btn-secondary">Cancel</a>
</form>

<?php include "../footer.php"; ?>

ðŸ“‚ (Alternative separated) room_booking/save.php

ðŸ‘‰ Only if you prefer handling POST separately; in your current flow, add.php already handles save.
If your sir likes separate save file, use this and change add.php form action="save.php".

<?php
include "../config.php";

$faculty = $_POST['faculty_id'];
$room    = $_POST['room_id'];
$date    = $_POST['date'];
$purpose = $_POST['purpose'];

$check = mysqli_query($conn,"
    SELECT * FROM room_booking_log
    WHERE room_id = '$room' AND date = '$date'
");

if(mysqli_num_rows($check) > 0){
    echo "<script>alert('Room already booked on this date!');window.location='add.php';</script>";
    exit;
}

mysqli_query($conn,"
    INSERT INTO room_booking_log(faculty_id, room_id, date, purpose, created_at)
    VALUES('$faculty', '$room', '$date', '$purpose', NOW())
");

header("location:list.php");
?>


If you're already saving inside add.php, you donâ€™t need save.php. Donâ€™t duplicate logic.

ðŸ“‚ room_booking/delete.php
<?php
include "../config.php";
$id = $_GET['id'];
mysqli_query($conn,"DELETE FROM room_booking_log WHERE log_id = $id");
header("location:list.php");
?>


ðŸ“Œ reports/index.php â€” Main Reports Dashboard
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-graph-up-arrow"></i> Reports Dashboard</h2>

<div class="list-group shadow-sm">
    <a href="student.php" class="list-group-item list-group-item-action">
        <i class="bi bi-person-lines-fill"></i> Student-wise Performance Report
    </a>

    <a href="course_strength.php" class="list-group-item list-group-item-action">
        <i class="bi bi-journal-bookmark"></i> Course Strength Report (No. of students per course)
    </a>

    <a href="attendance_summary.php" class="list-group-item list-group-item-action">
        <i class="bi bi-clipboard-check"></i> Attendance Summary Report
    </a>

    <a href="result_summary.php" class="list-group-item list-group-item-action">
        <i class="bi bi-bar-chart-line"></i> Result Summary Report (Avg exam marks)
    </a>
</div>

<?php include "../footer.php"; ?>


Now the detailed sub-reports:

ðŸ“Œ reports/student.php â€” Student-wise Performance Report
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-person-lines-fill"></i> Student Performance Report</h2>

<form method="get">
    <label>Select Student</label>
    <select name="id" class="form-control" required>
        <option value="">Select</option>
        <?php
        $s = mysqli_query($conn,"SELECT * FROM students ORDER BY student_name ASC");
        while($r = mysqli_fetch_assoc($s)){
            $sel = (isset($_GET['id']) && $_GET['id'] == $r['student_id']) ? "selected" : "";
            echo "<option $sel value='{$r['student_id']}'>{$r['student_name']}</option>";
        }
        ?>
    </select>
    <button class="btn btn-primary mt-2"><i class="bi bi-search"></i> View</button>
</form>
<hr>

<?php
if(isset($_GET['id'])){
$id = $_GET['id'];
$stu = mysqli_fetch_assoc(mysqli_query($conn,"SELECT * FROM students WHERE student_id=$id"));

echo "<h4 class='fw-bold mb-3'>Student: {$stu['student_name']}</h4>";
?>
<table class="table table-bordered bg-white shadow-sm">
<tr class="table-primary">
    <th>Course</th>
    <th>Exam Type</th>
    <th>Marks</th>
</tr>

<?php
$q = mysqli_query($conn,"
    SELECT c.course_name, e.exam_type, r.marks_obtained
    FROM exam_results r
    LEFT JOIN exams e ON r.exam_id=e.exam_id
    LEFT JOIN courses c ON e.course_id=c.course_id
    WHERE r.student_id=$id
");

while($row = mysqli_fetch_assoc($q)){
?>
<tr>
    <td><?= $row['course_name'] ?></td>
    <td><?= $row['exam_type'] ?></td>
    <td><?= $row['marks_obtained'] ?></td>
</tr>
<?php } ?>
</table>
<?php } ?>

<?php include "../footer.php"; ?>

ðŸ“Œ reports/course_strength.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-journal-bookmark"></i> Course Strength Report</h2>

<table class="table table-bordered bg-white shadow-sm">
<tr class="table-primary">
    <th>Course</th>
    <th>No. of Students</th>
</tr>

<?php
$q = mysqli_query($conn,"
    SELECT c.course_name, COUNT(e.student_id) AS total
    FROM enrollment e
    LEFT JOIN courses c ON e.course_id=c.course_id
    GROUP BY c.course_id
");

while($row = mysqli_fetch_assoc($q)){
?>
<tr>
    <td><?= $row['course_name'] ?></td>
    <td><?= $row['total'] ?></td>
</tr>
<?php } ?>
</table>

<?php include "../footer.php"; ?>

ðŸ“Œ reports/attendance_summary.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-clipboard-check"></i> Attendance Summary</h2>

<table class="table table-bordered bg-white shadow-sm">
<tr class="table-primary">
    <th>Student</th>
    <th>Present %</th>
</tr>

<?php
$q = mysqli_query($conn,"
    SELECT s.student_name,
    ROUND( (SUM(status='Present') / COUNT(*)) * 100 , 2 ) AS present_percent
    FROM attendance a
    LEFT JOIN students s ON a.student_id=s.student_id
    GROUP BY a.student_id
");

while($row = mysqli_fetch_assoc($q)){
?>
<tr>
    <td><?= $row['student_name'] ?></td>
    <td><?= $row['present_percent'] ?>%</td>
</tr>
<?php } ?>
</table>

<?php include "../footer.php"; ?>

ðŸ“Œ reports/result_summary.php
<?php include "../header.php"; ?>

<h2 class="fw-bold mb-4"><i class="bi bi-bar-chart-line"></i> Result Summary â€” Average Marks per Course</h2>

<table class="table table-bordered bg-white shadow-sm">
<tr class="table-primary">
    <th>Course</th>
    <th>Average Marks</th>
</tr>

<?php
$q = mysqli_query($conn,"
    SELECT c.course_name, ROUND(AVG(r.marks_obtained),2) AS avg_marks
    FROM exam_results r
    LEFT JOIN exams e ON r.exam_id=e.exam_id
    LEFT JOIN courses c ON e.course_id=c.course_id
    GROUP BY c.course_id
");

while($row = mysqli_fetch_assoc($q)){
?>
<tr>
    <td><?= $row['course_name'] ?></td>
    <td><?= $row['avg_marks'] ?></td>
</tr>
<?php } ?>
</table>

<?php include "../footer.php"; ?>